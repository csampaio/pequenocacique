<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>MainEvent</name>
    <events>
        <variable constant="1" name="ROCKMAXDENSITY" sid="451495719173841" static="0" type="number">6000</variable>
        <variable constant="1" name="PlayerMaxSpeed" sid="885945498272089" static="0" type="number">330</variable>
        <variable constant="0" name="NunArrow" sid="462636213646898" static="0" type="number">3</variable>
        <event-group description="" sid="522142733406309" title="Player">
            <sub-events>
                <event-block sid="272734051490558">
                    <conditions>
                        <condition id="2" name="Key is down" sid="988749759991834" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="716754882659743" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="347772336791307" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="496985965165011">
                            <conditions>
                                <condition behavior="Platform" id="2" name="Is on floor" sid="787410204846047" type="Player" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="113401683214651" type="Player">
                                    <param id="0" name="Animation">&quot;Walk&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="455539760126337">
                    <conditions>
                        <condition id="2" name="Key is down" sid="890794352687750" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="860403318307091" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="179906526943755" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="869943548222009">
                            <conditions>
                                <condition behavior="Platform" id="2" name="Is on floor" sid="857380266406409" type="Player" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="668103780042503" type="Player">
                                    <param id="0" name="Animation">&quot;Walk&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="163327270860257">
                    <conditions>
                        <condition behavior="Platform" id="5" name="On jump" sid="484170070771419" type="Player" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="647626988516630" type="Player">
                            <param id="0" name="Animation">&quot;Jump&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="989314088492810">
                    <conditions>
                        <condition behavior="Platform" id="6" name="On fall" sid="180851597339555" type="Player" />
                        <condition id="9" inverted="1" name="Is overlapping at offset" sid="351111395486891" type="Player">
                            <param id="0" name="Object">Tilemap</param>
                            <param id="1" name="Offset X">0</param>
                            <param id="2" name="Offset Y">80</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="946932609488663" type="Player">
                            <param id="0" name="Animation">&quot;Fall&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="700749384849542">
                    <conditions>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="269402950582329" type="Player" />
                        <condition behavior="Platform" id="0" inverted="1" name="Is moving" sid="380576384677577" type="Player" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="792253792972511" type="Player">
                            <param id="0" name="Animation">&quot;Idle&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="229589234070660">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="114281621142949" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="398709335999810" type="PlayerPhysics">
                            <param id="0" name="X">Player.X</param>
                            <param id="1" name="Y">Player.Y + 5</param>
                        </action>
                        <action id="-3" name="Set position" sid="788342472984822" type="RockBase">
                            <param id="0" name="X">Rock.X</param>
                            <param id="1" name="Y">Rock.Y-10</param>
                        </action>
                        <action id="-3" name="Set position" sid="233160580322278" type="BoardBase">
                            <param id="0" name="X">Board.X</param>
                            <param id="1" name="Y">Board.Y-5</param>
                        </action>
                        <action id="-8" name="Set angle" sid="792847415821259" type="BoardBase">
                            <param id="0" name="Angle">Board.Angle</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="666008684700670" title="Bow">
            <sub-events>
                <event-block sid="125191122741154">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="371099244493699" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="578206363626176" type="System">
                            <param id="0" name="Variable">NunArrow</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="648219109254547" type="System">
                            <param id="0" name="Variable">NunArrow</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="328060813126865" type="Player">
                            <param id="0" name="Object">Arrow</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">&quot;Bow&quot;</param>
                        </action>
                        <action id="-11" name="Subtract from" sid="172484395418623" type="System">
                            <param id="0" name="Variable">NunArrow</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-5" name="Set width" sid="283342185064155" type="ArrawCount">
                            <param id="0" name="Width">64*NunArrow</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="240257971891222" title="Arrow">
            <sub-events>
                <event-block sid="818945366154917">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="439704755991932" type="Arrow">
                            <param id="0" name="Object">Tilemap</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Bullet" id="5" name="Set enabled" sid="373175835140548" type="Arrow">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="704706020747040">
                    <conditions>
                        <condition id="-18" name="On created" sid="770454642418734" type="Arrow" />
                        <condition id="7" name="Is mirrored" sid="257833501153565" type="Player" />
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="573392704998464" type="Arrow">
                            <param id="0" name="Angle">180</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="644629372247295">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="685227414250063" type="PlayerPhysics">
                            <param id="0" name="Object">Arrow</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="169791776550839" type="Arrow">
                            <param id="0" name="Object">Tilemap</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="522374194256286" type="Keyboard">
                            <param id="0" name="Key">67 (C)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="421993661165684" type="Arrow" />
                        <action id="-10" name="Add to" sid="674057206847224" type="System">
                            <param id="0" name="Variable">NunArrow</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-5" name="Set width" sid="651897208082563" type="ArrawCount">
                            <param id="0" name="Width">64*NunArrow</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="739996653311370" title="Rock">
            <sub-events>
                <event-block sid="208108311113014">
                    <conditions>
                        <condition id="2" name="Key is down" sid="131052316673973" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="636836758101157">
                            <conditions>
                                <condition id="9" name="Is overlapping at offset" sid="109338897553600" type="Player">
                                    <param id="0" name="Object">Rock</param>
                                    <param id="1" name="Offset X">10</param>
                                    <param id="2" name="Offset Y">0</param>
                                </condition>
                                <condition id="9" name="Is overlapping at offset" sid="926352780753405" type="Player">
                                    <param id="0" name="Object">Rock</param>
                                    <param id="1" name="Offset X">-10</param>
                                    <param id="2" name="Offset Y">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="932677718797873" type="Player">
                                    <param id="0" name="Animation">&quot;Pushing&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action behavior="Solid" id="0" name="Set enabled" sid="933173110466437" type="RockBase">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Physics" id="16" name="Set density" sid="133283381599990" type="Rock">
                                    <param id="0" name="Density">40</param>
                                </action>
                                <action behavior="Platform" id="1" name="Set max speed" sid="551738181467915" type="Player">
                                    <param id="0" name="Max Speed">100</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="442848421430101">
                    <conditions>
                        <condition id="-22" name="Else" sid="388980023776045" type="System" />
                        <condition id="9" name="Is overlapping at offset" sid="440025089600294" type="Rock">
                            <param id="0" name="Object">Tilemap</param>
                            <param id="1" name="Offset X">0</param>
                            <param id="2" name="Offset Y">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="1" name="Set max speed" sid="998883966364752" type="Player">
                            <param id="0" name="Max Speed">PLAYERMAXSPEED</param>
                        </action>
                        <action behavior="Solid" id="0" name="Set enabled" sid="438462315563647" type="RockBase">
                            <param id="0" name="State">1</param>
                        </action>
                        <action behavior="Physics" id="16" name="Set density" sid="487583385591536" type="Rock">
                            <param id="0" name="Density">ROCKMAXDENSITY</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="385140815103661">
                    <conditions>
                        <condition id="9" inverted="1" name="Is overlapping at offset" sid="165606375682679" type="Rock">
                            <param id="0" name="Object">Tilemap</param>
                            <param id="1" name="Offset X">0</param>
                            <param id="2" name="Offset Y">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Solid" id="0" name="Set enabled" sid="590937456855545" type="RockBase">
                            <param id="0" name="State">1</param>
                        </action>
                        <action behavior="Physics" id="16" name="Set density" sid="334766538017810" type="Rock">
                            <param id="0" name="Density">ROCKMAXDENSITY</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="517674319698209">
                    <conditions>
                        <condition id="9" name="Is overlapping at offset" sid="658167911127125" type="Rock">
                            <param id="0" name="Object">BoardBase</param>
                            <param id="1" name="Offset X">0</param>
                            <param id="2" name="Offset Y">0</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="792474717702140" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Solid" id="0" name="Set enabled" sid="617109647764676" type="RockBase">
                            <param id="0" name="State">1</param>
                        </action>
                        <action behavior="Physics" id="16" name="Set density" sid="457620793139443" type="Rock">
                            <param id="0" name="Density">ROCKMAXDENSITY</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="770320581128890">
            <conditions>
                <condition id="-2" name="On start of layout" sid="901208099130377" type="System" />
            </conditions>
            <actions>
                <action behavior="Physics" id="12" name="Set world gravity" sid="428952692973463" type="Rock">
                    <param id="0" name="Gravity">20</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
